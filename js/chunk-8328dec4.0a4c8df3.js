(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8328dec4"],{"18a2":function(t,e,n){"use strict";var r=n("35b8"),a=n.n(r);a.a},2909:function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}n("a4d3"),n("e01a"),n("d28b"),n("a630"),n("e260"),n("d3b7"),n("25f0"),n("3ca3"),n("ddb0");function a(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function i(t){return r(t)||a(t)||o()}n.d(e,"a",(function(){return i}))},"35b8":function(t,e,n){},"373e":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user-follow"},[n("van-nav-bar",{staticClass:"page-navbar",attrs:{"left-arrow":""},on:{"click-left":function(e){return t.$router.back()}}},[n("van-tabs",{attrs:{slot:"title",background:"#3296fa",color:"#fff","title-inactive-color":"#fff","title-active-color":"#fff",border:!1},slot:"title",model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[n("van-tab",{attrs:{title:"关注",to:"/user/"+t.userId+"/follow",replace:""}},[n("follow-list")],1),n("van-tab",{attrs:{title:"粉丝",to:"/user/"+t.userId+"/follow?tab=followers",replace:""}},[n("follow-list",{attrs:{followers:""}})],1)],1)],1)],1)},a=[],o=(n("a9e3"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"follow-list"},[n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(e,r){return n("van-cell",{key:r,staticClass:"follow-item"},[n("van-image",{staticClass:"avatar",attrs:{slot:"icon",round:"",src:e.photo,fit:"cover"},on:{click:function(n){return t.$router.push({name:"user",params:{userId:e.id}})}},slot:"icon"}),n("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.name.trim()||"黑马头条号"))]),n("div",{staticClass:"label",attrs:{slot:"label"},slot:"label"},[t._v("粉丝数："+t._s(e.fans_count))]),"followers"!==t.$route.query.tab?n("follow-user",{attrs:{"user-id":e.id},model:{value:e.is_followed,callback:function(n){t.$set(e,"is_followed",n)},expression:"item.is_followed"}},[e.is_followed?n("span",[t._v(" "+t._s(e.mutual_follow?"互相关注":"已关注")+" ")]):n("span",[t._v("关注")])]):n("follow-user",{attrs:{"user-id":e.id},model:{value:e.mutual_follow,callback:function(n){t.$set(e,"mutual_follow",n)},expression:"item.mutual_follow"}},[t._v(" "+t._s(e.mutual_follow?"互相关注":"关注")+" ")])],1)})),1)],1)}),i=[],u=(n("159b"),n("2909")),s=(n("96cf"),n("1da1")),c=n("c24f"),l=n("f50e"),f={name:"FollowList",components:{FollowUser:l["a"]},props:{followers:{type:Boolean,default:!1}},data:function(){return{list:[],loading:!1,finished:!1,page:1,perPage:20}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{onLoad:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,n,r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n=[this.$route.params.userId,{page:this.page,perPage:this.perPage}],t.next=4,this.followers?c["b"].apply(void 0,n):c["c"].apply(void 0,n);case 4:r=t.sent,a=r.data,o=a.data.results,o.forEach((function(t){t.is_followed=!0})),(e=this.list).push.apply(e,Object(u["a"])(o)),this.loading=!1,o.length?this.page++:this.finished=!0,t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),this.$toast("数据获取失败");case 16:case"end":return t.stop()}}),t,this,[[0,13]])})));function e(){return t.apply(this,arguments)}return e}()}},d=f,p=(n("3ce7"),n("2877")),v=Object(p["a"])(d,o,i,!1,null,"abd8f536",null),b=v.exports,h={name:"UserFollow",components:{FollowList:b},props:{userId:{type:[Number,String,Object],required:!0}},data:function(){return{active:"followers"===this.$route.query.tab?1:0}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{}},m=h,w=(n("18a2"),Object(p["a"])(m,r,a,!1,null,"7de46d72",null));e["default"]=w.exports},"3ce7":function(t,e,n){"use strict";var r=n("737d"),a=n.n(r);a.a},"4df4":function(t,e,n){"use strict";var r=n("f8c2"),a=n("7b0b"),o=n("9bdd"),i=n("e95a"),u=n("50c4"),s=n("8418"),c=n("35a1");t.exports=function(t){var e,n,l,f,d,p=a(t),v="function"==typeof this?this:Array,b=arguments.length,h=b>1?arguments[1]:void 0,m=void 0!==h,w=0,g=c(p);if(m&&(h=r(h,b>2?arguments[2]:void 0,2)),void 0==g||v==Array&&i(g))for(e=u(p.length),n=new v(e);e>w;w++)s(n,w,m?h(p[w],w):p[w]);else for(f=g.call(p),d=f.next,n=new v;!(l=d.call(f)).done;w++)s(n,w,m?o(f,h,[l.value,w],!0):l.value);return n.length=w,n}},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var r=n("1d80"),a=n("5899"),o="["+a+"]",i=RegExp("^"+o+o+"*"),u=RegExp(o+o+"*$"),s=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(i,"")),2&t&&(n=n.replace(u,"")),n}};t.exports={start:s(1),end:s(2),trim:s(3)}},7156:function(t,e,n){var r=n("861d"),a=n("d2bb");t.exports=function(t,e,n){var o,i;return a&&"function"==typeof(o=e.constructor)&&o!==n&&r(i=o.prototype)&&i!==n.prototype&&a(t,i),t}},"737d":function(t,e,n){},"9edc":function(t,e,n){"use strict";var r=n("bd7b"),a=n.n(r);a.a},a630:function(t,e,n){var r=n("23e7"),a=n("4df4"),o=n("1c7e"),i=!o((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:i},{from:a})},a9e3:function(t,e,n){"use strict";var r=n("83ab"),a=n("da84"),o=n("94ca"),i=n("6eeb"),u=n("5135"),s=n("c6b6"),c=n("7156"),l=n("c04e"),f=n("d039"),d=n("7c73"),p=n("241c").f,v=n("06cf").f,b=n("9bf2").f,h=n("58a8").trim,m="Number",w=a[m],g=w.prototype,_=s(d(g))==m,y=function(t){var e,n,r,a,o,i,u,s,c=l(t,!1);if("string"==typeof c&&c.length>2)if(c=h(c),e=c.charCodeAt(0),43===e||45===e){if(n=c.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:r=2,a=49;break;case 79:case 111:r=8,a=55;break;default:return+c}for(o=c.slice(2),i=o.length,u=0;u<i;u++)if(s=o.charCodeAt(u),s<48||s>a)return NaN;return parseInt(o,r)}return+c};if(o(m,!w(" 0o1")||!w("0b1")||w("+0x1"))){for(var E,O=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof O&&(_?f((function(){g.valueOf.call(n)})):s(n)!=m)?c(new w(y(e)),n,O):y(e)},I=r?p(w):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),j=0;I.length>j;j++)u(w,E=I[j])&&!u(O,E)&&b(O,E,v(w,E));O.prototype=g,g.constructor=O,i(a,m,O)}},bd7b:function(t,e,n){},c24f:function(t,e,n){"use strict";n.d(e,"h",(function(){return a})),n.d(e,"g",(function(){return o})),n.d(e,"a",(function(){return i})),n.d(e,"j",(function(){return u})),n.d(e,"e",(function(){return s})),n.d(e,"d",(function(){return c})),n.d(e,"k",(function(){return l})),n.d(e,"l",(function(){return f})),n.d(e,"i",(function(){return d})),n.d(e,"f",(function(){return p})),n.d(e,"c",(function(){return v})),n.d(e,"b",(function(){return b}));n("d3b7"),n("25f0");var r=n("b775");function a(t){return Object(r["a"])({method:"POST",url:"/app/v1_0/authorizations",data:t})}function o(){return Object(r["a"])({method:"GET",url:"/app/v1_0/user/channels"})}function i(t){return Object(r["a"])({method:"POST",url:"/app/v1_0/user/followings",data:{target:t}})}function u(t){return Object(r["a"])({method:"DELETE",url:"/app/v1_0/user/followings/".concat(t)})}function s(){return Object(r["a"])({method:"GET",url:"/app/v1_0/user"})}function c(t){return Object(r["a"])({method:"GET",url:"/app/v1_0/user/profile"})}function l(t){return Object(r["a"])({method:"PATCH",url:"/app/v1_0/user/photo",data:t})}function f(t){return Object(r["a"])({method:"PATCH",url:"/app/v1_0/user/profile",data:t})}function d(t){return Object(r["a"])({method:"GET",url:"/app/v1_0/sms/codes/".concat(t)})}function p(t){return Object(r["a"])({method:"GET",url:"/app/v1_0/users/".concat(t)})}function v(t,e){return Object(r["a"])({method:"GET",url:"/app/v1_0/user/followings",params:e,data:{target:t.toString()}})}function b(t,e){return Object(r["a"])({method:"GET",url:"/app/v1_0/user/followers",params:e,data:{target:t.toString()}})}},f50e:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-button",t._b({staticClass:"follow-btn",attrs:{type:t.value?"default":"info",size:"small",loading:t.loading},on:{click:function(e){return e.stopPropagation(),t.onFollow(e)}}},"van-button",t.$attrs,!1),[t._t("default",[t._v(" "+t._s(t.value?"已关注":"关注")+" ")])],2)},a=[],o=(n("a9e3"),n("96cf"),n("1da1")),i=n("c24f"),u={name:"FollowUser",components:{},props:{value:{type:Boolean},userId:{type:[Number,String,Object],required:!0}},data:function(){return{loading:!1}},computed:{},watch:{},created:function(){},methods:{onFollow:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.loading=!0,t.prev=1,!this.value){t.next=7;break}return t.next=5,Object(i["j"])(this.userId);case 5:t.next=9;break;case 7:return t.next=9,Object(i["a"])(this.userId);case 9:this.$emit("input",!this.value),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](1),t.t0.response&&400===t.t0.response.status&&this.$toast("你不能关注你自己");case 15:this.loading=!1;case 16:case"end":return t.stop()}}),t,this,[[1,12]])})));function e(){return t.apply(this,arguments)}return e}()}},s=u,c=(n("9edc"),n("2877")),l=Object(c["a"])(s,r,a,!1,null,"3f493a2c",null);e["a"]=l.exports}}]);
//# sourceMappingURL=chunk-8328dec4.0a4c8df3.js.map