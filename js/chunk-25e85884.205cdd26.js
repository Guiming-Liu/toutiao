(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-25e85884"],{"14c3":function(e,t,r){var n=r("c6b6"),c=r("9263");e.exports=function(e,t){var r=e.exec;if("function"===typeof r){var a=r.call(e,t);if("object"!==typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return c.call(e,t)}},1925:function(e,t,r){"use strict";r.d(t,"b",(function(){return c})),r.d(t,"a",(function(){return a}));var n=r("b775");function c(e){return Object(n["a"])({method:"GET",url:"/app/v1_0/suggestion",params:{q:e}})}function a(e){return Object(n["a"])({method:"GET",url:"/app/v1_0/search",params:e})}},"44e7":function(e,t,r){var n=r("861d"),c=r("c6b6"),a=r("b622"),i=a("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==c(e))}},"498a":function(e,t,r){"use strict";var n=r("23e7"),c=r("58a8").trim,a=r("e070");n({target:"String",proto:!0,forced:a("trim")},{trim:function(){return c(this)}})},"4d63":function(e,t,r){var n=r("83ab"),c=r("da84"),a=r("94ca"),i=r("7156"),o=r("9bf2").f,s=r("241c").f,u=r("44e7"),l=r("ad6d"),h=r("6eeb"),f=r("d039"),p=r("2626"),v=r("b622"),d=v("match"),g=c.RegExp,x=g.prototype,b=/a/g,w=/a/g,m=new g(b)!==b,S=n&&a("RegExp",!m||f((function(){return w[d]=!1,g(b)!=b||g(w)==w||"/a/i"!=g(b,"i")})));if(S){var y=function(e,t){var r=this instanceof y,n=u(e),c=void 0===t;return!r&&n&&e.constructor===y&&c?e:i(m?new g(n&&!c?e.source:e,t):g((n=e instanceof y)?e.source:e,n&&c?l.call(e):t),r?this:x,y)},k=function(e){e in y||o(y,e,{configurable:!0,get:function(){return g[e]},set:function(t){g[e]=t}})},E=s(g),T=0;while(E.length>T)k(E[T++]);x.constructor=y,y.prototype=x,h(c,"RegExp",y)}p("RegExp")},5319:function(e,t,r){"use strict";var n=r("d784"),c=r("825a"),a=r("7b0b"),i=r("50c4"),o=r("a691"),s=r("1d80"),u=r("8aa5"),l=r("14c3"),h=Math.max,f=Math.min,p=Math.floor,v=/\$([$&'`]|\d\d?|<[^>]*>)/g,d=/\$([$&'`]|\d\d?)/g,g=function(e){return void 0===e?e:String(e)};n("replace",2,(function(e,t,r){return[function(r,n){var c=s(this),a=void 0==r?void 0:r[e];return void 0!==a?a.call(r,c,n):t.call(String(c),r,n)},function(e,a){var s=r(t,e,this,a);if(s.done)return s.value;var p=c(e),v=String(this),d="function"===typeof a;d||(a=String(a));var x=p.global;if(x){var b=p.unicode;p.lastIndex=0}var w=[];while(1){var m=l(p,v);if(null===m)break;if(w.push(m),!x)break;var S=String(m[0]);""===S&&(p.lastIndex=u(v,i(p.lastIndex),b))}for(var y="",k=0,E=0;E<w.length;E++){m=w[E];for(var T=String(m[0]),R=h(f(o(m.index),v.length),0),O=[],H=1;H<m.length;H++)O.push(g(m[H]));var $=m.groups;if(d){var _=[T].concat(O,R,v);void 0!==$&&_.push($);var j=String(a.apply(void 0,_))}else j=n(T,v,R,O,$,a);R>=k&&(y+=v.slice(k,R)+j,k=R+T.length)}return y+v.slice(k)}];function n(e,r,n,c,i,o){var s=n+e.length,u=c.length,l=d;return void 0!==i&&(i=a(i),l=v),t.call(o,l,(function(t,a){var o;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return r.slice(0,n);case"'":return r.slice(s);case"<":o=i[a.slice(1,-1)];break;default:var l=+a;if(0===l)return t;if(l>u){var h=p(l/10);return 0===h?t:h<=u?void 0===c[h-1]?a.charAt(1):c[h-1]+a.charAt(1):t}o=c[l-1]}return void 0===o?"":o}))}}))},"8aa5":function(e,t,r){"use strict";var n=r("6547").charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},9263:function(e,t,r){"use strict";var n=r("ad6d"),c=RegExp.prototype.exec,a=String.prototype.replace,i=c,o=function(){var e=/a/,t=/b*/g;return c.call(e,"a"),c.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),s=void 0!==/()??/.exec("")[1],u=o||s;u&&(i=function(e){var t,r,i,u,l=this;return s&&(r=new RegExp("^"+l.source+"$(?!\\s)",n.call(l))),o&&(t=l.lastIndex),i=c.call(l,e),o&&i&&(l.lastIndex=l.global?i.index+i[0].length:t),s&&i&&i.length>1&&a.call(i[0],r,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(i[u]=void 0)})),i}),e.exports=i},"9cef":function(e,t,r){},ac1f:function(e,t,r){"use strict";var n=r("23e7"),c=r("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==c},{exec:c})},bc77:function(e,t,r){"use strict";var n=r("9cef"),c=r.n(n);c.a},c975:function(e,t,r){"use strict";var n=r("23e7"),c=r("4d64").indexOf,a=r("b301"),i=[].indexOf,o=!!i&&1/[1].indexOf(1,-0)<0,s=a("indexOf");n({target:"Array",proto:!0,forced:o||s},{indexOf:function(e){return o?i.apply(this,arguments)||0:c(this,e,arguments.length>1?arguments[1]:void 0)}})},d784:function(e,t,r){"use strict";var n=r("9112"),c=r("6eeb"),a=r("d039"),i=r("b622"),o=r("9263"),s=i("species"),u=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),l=!a((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));e.exports=function(e,t,r,h){var f=i(e),p=!a((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),v=p&&!a((function(){var t=!1,r=/a/;return"split"===e&&(r={},r.constructor={},r.constructor[s]=function(){return r},r.flags="",r[f]=/./[f]),r.exec=function(){return t=!0,null},r[f](""),!t}));if(!p||!v||"replace"===e&&!u||"split"===e&&!l){var d=/./[f],g=r(f,""[e],(function(e,t,r,n,c){return t.exec===o?p&&!c?{done:!0,value:d.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}})),x=g[0],b=g[1];c(String.prototype,e,x),c(RegExp.prototype,f,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)}),h&&n(RegExp.prototype[f],"sham",!0)}}},e070:function(e,t,r){var n=r("d039"),c=r("5899"),a="​᠎";e.exports=function(e){return n((function(){return!!c[e]()||a[e]()!=a||c[e].name!==e}))}},efe3:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"search-container"},[r("form",{attrs:{action:"/"}},[r("van-search",{attrs:{"show-action":"",placeholder:"请输入搜索关键词"},on:{click:function(t){return e.onSearch(e.searchText)},input:e.onSearchInput},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}},[r("div",{staticClass:"cancel",attrs:{slot:"action"},on:{click:function(t){return e.$router.back()}},slot:"action"},[e._v("取消")])])],1),r("van-cell-group",{directives:[{name:"show",rawName:"v-show",value:e.searchText,expression:"searchText"}]},e._l(e.suggestions,(function(t){return r("van-cell",{key:t,attrs:{icon:"search"},on:{click:function(r){return e.onSearch(t)}}},[r("div",{attrs:{slot:"title"},domProps:{innerHTML:e._s(e.highlight(t))},slot:"title"})])})),1),r("van-cell-group",{directives:[{name:"show",rawName:"v-show",value:!e.searchText,expression:"!searchText"}]},[r("van-cell",{attrs:{title:"历史记录"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.isDeleteShow,expression:"isDeleteShow"}]},[r("span",{on:{click:function(t){e.searchHistories=[]}}},[e._v("全部删除")]),e._v(" "),r("span",{on:{click:function(t){e.isDeleteShow=!1}}},[e._v("完成")])]),r("van-icon",{directives:[{name:"show",rawName:"v-show",value:!e.isDeleteShow,expression:"!isDeleteShow"}],attrs:{name:"delete"},on:{click:function(t){e.isDeleteShow=!0}}})],1),e._l(e.searchHistories,(function(t,n){return r("van-cell",{key:t,attrs:{title:t},on:{click:function(r){return e.onSearch(t)}}},[r("van-icon",{directives:[{name:"show",rawName:"v-show",value:e.isDeleteShow,expression:"isDeleteShow"}],attrs:{name:"close"},on:{click:function(t){return t.stopPropagation(),e.searchHistories.splice(n,1)}}})],1)}))],2)],1)},c=[],a=(r("c975"),r("a434"),r("d3b7"),r("4d63"),r("ac1f"),r("25f0"),r("5319"),r("498a"),r("96cf"),r("1925")),i=r("5d2d"),o=r("2ef0"),s={name:"SearchPage",components:{},props:{},data:function(){return{str:'hello <span style="color: red">world</span>',searchText:"",suggestions:[],searchHistories:Object(i["a"])("search-histories")||[],isDeleteShow:!1}},computed:{},watch:{searchHistories:function(){Object(i["b"])("search-histories",this.searchHistories)}},created:function(){},methods:{onSearch:function(e){if(e.trim()){var t=this.searchHistories.indexOf(e);-1!==t&&this.searchHistories.splice(t,1),this.searchHistories.unshift(e),Object(i["b"])("search-histories",this.searchHistories),this.$router.push("/search/".concat(e))}},onSearchInput:Object(o["debounce"])((function(){var e,t;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:if(e=this.searchText.trim(),e){r.next=3;break}return r.abrupt("return");case 3:return r.next=5,regeneratorRuntime.awrap(Object(a["b"])(this.searchText));case 5:t=r.sent,this.suggestions=t.data.data.options;case 7:case"end":return r.stop()}}),null,this)}),300),highlight:function(e){var t=new RegExp(this.searchText,"ig");return e.replace(t,'<span style="color: red">'.concat(this.searchText,"</span>"))}}},u=s,l=(r("bc77"),r("2877")),h=Object(l["a"])(u,n,c,!1,null,"748d6388",null);t["default"]=h.exports}}]);
//# sourceMappingURL=chunk-25e85884.205cdd26.js.map